# **Руководство по использованию библиотеки `discord-py`**
## *Здесь вы можете почитать об основах, которые необходимо понимать, чтобы грамотно работать с библиотекой и не задавать вопросов, касающихся самых базовых вещей*
___

Вероятнее всего у вас уже имеется созданный бот, поэтому инструкция по его созданию будет пропущена *(но, возмжно появится позже)*.

### Прежде чем начать...

Прежде чем приступать к работе с ботом, я сразу рекомендую зайти на страницу вашего бота и включить **намерения** (`intents`, [**подробнее**][4]). Для этого зайдите в [раздел приложений][1] и выберите вашего бота. Затем, слева, на вкладке **`"Bot"`**

[![Бот][2]][2] 

Включите параметры `PRESENCE INTENT` и `SERVER MEMBERS INTENT`

[![введите сюда описание изображения][3]][3]

Намерения нужны для работы с некоторыми событиями, объектами пользователей серверов (`участник`/`member`) и др. Они вам точно понадобятся, поэтому лучше включить их сразу, чтобы потом не спрашивать, почему вам не удается получить данные о пользователе сервера или чего-либо еще.

---

### Начало работы с ботом и `discord-py`

Бот, которого вы создали на странице [приложений][9], является аккаунтом дискорда, который по сути является таким же пользовательским аккаунтом, как и ваш, но с атрибутом `bot` и некоторыми ограничениями. Чтобы бот начал что-то делать, нужно создать его в коде и прописать логику.

Для начала рассмотрим виды ботов, которые предоставляет библиотека:

- [`discord.Client`][5] - фактически, самый базовый бот, на котором основаны другие. Умеет обрабатывать события по типу получения сообщений `on_message()`, установки реакции `on_raw_reaction_add()` и [другие][6].
- [`discord.ext.commands.Bot`][7] - тот же `discord.Client`, только умеет находить в сообщениях и обрабатывать отдельные команды, которые начинаются с какого-либо префикса, например `!test`
- [`discord.ext.commands.Cog`][8] - про этого бота ничего сказать не могу, так как ни разу не использовал. Насколько мне известно, он нужен в тех случаях, когда вы планируете задать боту кучу разных комманд, событий и организовать все это в один отдельный класс.

В общем-то, выбор бота зависит напрямую от цели использования. Если вам нужен простой бот, который будет читать чат, фильтровать мат и т.п., считывать реакции, выдавать роли при входе нового пользователя и т.д., то вам хватит базового бота [`discord.Client`][5].

Если помимо того, что я написал выше, вы хотите **добавить еще** и обработку команд по типу `!ban <@User>`, `!play <Ссылка на видео с YouTube>`, `!погода` и т.п., то использовать надо именно  [`discord.ext.commands.Bot`][7].

---

### Пишем код

Теперь, когда вы определились с ботом можно наконец-то приступить к написанию кода.

Для начала подключим библиотеку.
```
import discord
```
Здесь

При помощи токена и нескольких строк кода вы можете авторизоваться в аккаунте бота и он появится в сети до тех пор, пока вы не завершите выполнение кода.

**Выдаем боту намерения при объявлении:** 
```
client = commands.Bot(command_prefix='/', intents = discord.Intents.all())
```
---

[1]: https://discord.com/developers/applications
[2]: https://i.stack.imgur.com/ZnOYm.png
[3]: https://i.stack.imgur.com/HZCQP.png
[4]: https://discordpy.readthedocs.io/en/stable/intents.html
[5]: https://discordpy.readthedocs.io/en/stable/api.html?highlight=client#discord.Client
[6]: https://discordpy.readthedocs.io/en/stable/api.html?highlight=event#discord-api-events
[7]: https://discordpy.readthedocs.io/en/stable/ext/commands/api.html?highlight=bot#discord.ext.commands.Bot
[8]: https://discordpy.readthedocs.io/en/stable/ext/commands/api.html?highlight=cog#discord.ext.commands.Cog
[9]: https://discord.com/developers/applications
